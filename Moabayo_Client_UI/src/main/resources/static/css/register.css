@charset "UTF-8";

/* ───────────────── Tokens: 전역 theme.css 변수 우선 사용, 없으면 기본값 ───────────────── */
:root{
  --brand: var(--accent, #8b5cf6);
  --brand-ink: #fff;

  /* light */
  --bg:#f7f8fb;
  --ink:#0f172a;
  --sub:#64748b;
  --surface:#ffffff;
  --field:#f4f6fb;
  --line:#e5e7eb;
  --shadow:0 14px 36px rgba(2,6,23,.10);

  --ok:#10b981; --warn:#f59e0b; --err:#ef4444;
}

html[data-theme="dark"], body.dark{
  --bg:#0b0f14;
  --ink:#e6eaf2;
  --sub:#9aa5b1;
  --surface:#0f151c;
  --field:#111a23;
  --line:#253244;
  --shadow:0 18px 42px rgba(0,0,0,.45);

  --brand: var(--accent, #a78bfa);
  --brand-ink:#0b0f14;
}

/* ───────────────── Page & Container ───────────────── */
body{ background:var(--bg); color:var(--ink); }
#header,#footer{ isolation:isolate; }

.signup-container{
  width:min(720px,calc(100% - 32px));
  margin:40px auto 80px;
  background:var(--surface);
  border:1px solid var(--line);
  border-radius:20px;
  box-shadow:var(--shadow);
  padding:28px 22px 26px;
}
.signup-container h2{
  font-weight:800; letter-spacing:.2px; margin-bottom:18px !important;
}

/* ───────────────── Inputs (일괄 스타일) ───────────────── */
.form-floating>.form-control,
.form-floating>.form-select,
.form-control,.form-select,
#zipCode,#address,#addressDetail{
  background:var(--field) !important;
  color:var(--ink) !important;
  border:1px solid var(--line) !important;
  border-radius:14px !important;
  box-shadow:none !important;
}

.form-control::placeholder{ color:var(--sub); }

/* focus ring */
.form-control:focus,.form-select:focus{
  border-color: color-mix(in srgb, var(--brand) 55%, var(--line));
  box-shadow: 0 0 0 .24rem color-mix(in srgb, var(--brand) 26%, transparent);
  outline:0;
}

/* validation 메시지 */
.valid-feedback{ color:var(--ok) !important; }
.invalid-feedback{ color:var(--err) !important; }

/* input-group 버튼 정렬/톤 */
.input-group>.btn{
  border:1px solid var(--line);
  background:var(--surface);
  color:var(--ink);
  border-radius:14px;
}

/* 우편번호 섹션 */
#zip-code-box{ display:flex; gap:8px; width:100%; }
#zip-code-box #zipCode{
  flex:1 1 160px; padding:10px 12px;
}
#zip-code-box #searchAddress{
  border:1px solid var(--line); background:var(--surface); color:var(--ink);
  border-radius:14px; padding:10px 14px; cursor:pointer;
}

/* 제출 버튼(프로젝트 포인트 컬러) */
.btn{ border-radius:14px; }
.btn-warning{
  background:var(--brand) !important;
  border-color: color-mix(in srgb, var(--brand) 70%, #000) !important;
  color:var(--brand-ink) !important;
  box-shadow:0 12px 28px color-mix(in srgb, var(--brand) 35%, transparent);
}
.btn-warning:disabled{ filter:saturate(.6) opacity(.8); }

/* 보조 버튼 */
.btn-outline-secondary{
  background:var(--surface);
  color:var(--ink);
  border-color:var(--line);
}

/* 안내/부가 텍스트 */
.text-muted,.small,.form-text{ color:var(--sub) !important; }

/* ───────────────── Floating Label 보강 ───────────────── */
/* placeholder=" " 로 세팅 + 값 있을 때 라벨 상승 */
.form-floating>.form-control.is-filled ~ label,
.form-floating>.form-control:not(:placeholder-shown) ~ label,
.form-floating>.form-control:focus ~ label{
  opacity:.9;
  transform: scale(.85) translateY(-.6rem) translateX(.15rem);
}

/* 라벨 배경을 살짝 덧칠 → 경계선 겹침 방지 */
.form-floating>label{
  background: linear-gradient(180deg, transparent 0 48%, var(--surface) 48% 100%);
  padding:0 .35rem; margin-left:.15rem;
}

/* 자동완성 톤 */
input.form-control:-webkit-autofill{
  -webkit-text-fill-color:var(--ink) !important;
  -webkit-box-shadow:0 0 0 1000px var(--field) inset !important;
  caret-color:var(--ink) !important;
}

/* ───────────────── Flatpickr (달력) ───────────────── */
.flatpickr-calendar{
  background:var(--surface);
  border:1px solid var(--line);
  box-shadow:var(--shadow);
}
.flatpickr-day{ color:var(--ink); }
.flatpickr-day.today{
  border-color: color-mix(in srgb, var(--brand) 45%, var(--line));
}
.flatpickr-day.selected,.flatpickr-day:hover{
  background:var(--brand); border-color:var(--brand); color:var(--brand-ink);
}

/* ───────────────── Transitions & Responsive ───────────────── */
.signup-container,.form-control,.form-select,.btn{
  transition: background-color .2s ease, border-color .2s ease, color .2s ease, box-shadow .2s ease;
}
.d-grid .btn{ padding:12px 16px; }

@media (max-width:520px){ .signup-container{ padding:22px 16px; } }


/* 0) 캐시 무력화 팁: <link ... signup-theme.css?v=5> */

/* 1) 라이트 모드 대비 강화: 필드=흰색, 보더 조금 진하게 */
:root{
  --field:#ffffff;           /* 기존 #f4f6fb → #fff */
  --line:#d6dbe3;            /* 테두리 살짝 진하게 */
}

/* 2) 입력 높이/내부 여백 통일 (비활성처럼 보이는 문제 제거) */
.form-control,
.form-select,
#zipCode,#address,#addressDetail{
  min-height: 48px;
  padding: 12px 14px;
  background: var(--field) !important;
  border: 1px solid var(--line) !important;
}

/* 3) 라벨을 “항상 떠 있게” 처리 (겹침/반쯤 떠있는 느낌 제거) */
.form-floating > .form-control ~ label{
  opacity:.9;
  transform: scale(.85) translateY(-.6rem) translateX(.15rem);
  background: linear-gradient(180deg, transparent 0 48%, var(--surface) 48% 100%);
  padding: 0 .35rem; margin-left:.15rem;
}

/* 4) 포커스 링은 선명하게 */
.form-control:focus,.form-select:focus{
  border-color: color-mix(in srgb, var(--brand) 60%, var(--line));
  box-shadow: 0 0 0 .22rem color-mix(in srgb, var(--brand) 28%, transparent);
}

/* 5) input-group 버튼도 높이/여백 매칭 */
.input-group>.btn{
  min-height: 48px;
  padding: 10px 14px;
}

/* 6) 다크 모드도 살짝 또렷하게(선택) */
html[data-theme="dark"], body.dark{
  --field:#101824;   /* 입력 배경 미세 조정 */
  --line:#2a394d;
}
/* ==== Section & Rhythm ==== */
.nx-section { padding: 10px 0 18px; border-top: 1px solid color-mix(in srgb,var(--line) 70%, transparent); }
.nx-section:first-of-type { border-top: 0; padding-top: 0; }
.nx-title {
  margin: 6px 0 10px; font-size: 0.95rem; font-weight: 800; letter-spacing: .2px;
  color: var(--sub);
}

/* grid: desktop 2-cols, mobile 1-col */
.grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 10px 12px; }
@media (max-width: 860px){ .grid-2 { grid-template-columns: 1fr; } }

/* 폼 간격 리셋: 필드 간 좁게, 섹션 간 넓게 */
.form-floating.mb-3, .input-group.mb-3 { margin-bottom: 10px !important; }
.nx-section + .nx-section { margin-top: 8px; }

/* 보조문구는 약하게 */
.nx-help { margin: 4px 0 8px; font-size: .85rem; color: var(--sub); }

/* 입력/보더 톤 더 가볍게(덜 빽빽) */
.form-control, .form-select, #zipCode, #address, #addressDetail {
  border-color: color-mix(in srgb, var(--line) 90%, transparent) !important;
}
.form-control:focus, .form-select:focus {
  border-color: color-mix(in srgb, var(--brand) 60%, var(--line));
  box-shadow: 0 0 0 .18rem color-mix(in srgb, var(--brand) 22%, transparent);
}

/* sticky submit: 항상 보이게 */
.nx-sticky {
  position: sticky; bottom: 0; padding-top: 8px; background: linear-gradient(180deg, transparent, var(--surface) 40%);
}
.nx-sticky .btn { width: 100%; border-radius: 12px; }

/* input-group 버튼 톤/높이 매칭 */
.input-group>.btn { min-height: 48px; padding: 10px 14px; }

/* 다크에서 경계선 과다감을 줄임 */
html[data-theme="dark"], body.dark {
  --line: #2a394d;
}
.nx-section { border-top-color: color-mix(in srgb, var(--line) 55%, transparent); }


/* ===== Dark-mode hotfix: text & labels & floating background ===== */

/* 1) 다크 토큰 한번 더 확정 (덮어쓰기) */
html[data-theme="dark"], body.dark{
  --surface:#0f151c;
  --field:#101824;    /* 입력 배경 */
  --ink:#e6eaf2;      /* 본문/입력 텍스트 */
  --sub:#9aa5b1;      /* 보조 텍스트 */
  --line:#2a394d;
  --brand: var(--accent, #a78bfa);
  --brand-ink:#0b0f14;
}

/* 2) 입력값/캐럿/placeholder 확실히 보이게 */
.form-control,
.form-select,
#zipCode,#address,#addressDetail{
  background: var(--field) !important;
  color: var(--ink) !important;
  caret-color: var(--ink) !important;
  border: 1px solid var(--line) !important;
}

/* placeholder/보조 텍스트 컬러 */
.form-control::placeholder,
.form-select,
.text-muted,.form-text,.small{
  color: var(--sub) !important;
}

/* 3) floating label: 배경/의사요소 완전 제거 + 컬러 명시 */
.form-floating > label{
  background: transparent !important;   /* ← 흰 반투명 사각형 원인 제거 */
  color: var(--sub) !important;
}
.form-floating > label::before,
.form-floating > label::after{
  content: none !important;             /* 혹시 남아있을 가림막 제거 */
}

/* 값/포커스 시 라벨만 올라가게 (배경 없이) */
.form-floating > .form-control.is-filled ~ label,
.form-floating > .form-control:not(:placeholder-shown) ~ label,
.form-floating > .form-control:focus ~ label{
  opacity: .95 !important;
  transform: scale(.85) translateY(-.6rem) translateX(.15rem) !important;
}

/* 4) 포커스 링 명확하게 */
.form-control:focus, .form-select:focus{
  border-color: color-mix(in srgb, var(--brand) 60%, var(--line)) !important;
  box-shadow: 0 0 0 .22rem color-mix(in srgb, var(--brand) 26%, transparent) !important;
  outline: 0 !important;
}

/* 5) 크롬 자동완성(흰 배경 덮임) 무력화 */
input.form-control:-webkit-autofill{
  -webkit-text-fill-color: var(--ink) !important;
  -webkit-box-shadow: 0 0 0 1000px var(--field) inset !important;
  caret-color: var(--ink) !important;
}

/* 6) input-group 버튼도 다크 톤 */
.input-group>.btn{
  background: var(--surface) !important;
  color: var(--ink) !important;
  border: 1px solid var(--line) !important;
}

/* 7) 섹션 라인/카드 톤 정리(과한 대비 제거) */
.signup-container{
  background: var(--surface) !important;
  border-color: var(--line) !important;
  box-shadow: 0 20px 48px rgba(0,0,0,.42) !important;
}
.nx-section{ border-top-color: color-mix(in srgb, var(--line) 55%, transparent) !important; }


/* ==== 성별 세그먼트 버튼 ==== */
.nx-segment{
  display:inline-grid; grid-auto-flow:column; gap:8px;
  margin: 6px 0 12px;
}
.nx-segment .seg-radio{ position:absolute; opacity:0; pointer-events:none; }

.nx-segment .seg-btn{
  display:inline-flex; align-items:center; justify-content:center;
  min-width: 88px; height: 44px; padding: 0 14px;
  border-radius: 12px;
  border:1px solid var(--line);
  background: var(--surface);
  color: var(--ink);
  font-weight: 700; cursor: pointer;
  transition: background-color .18s ease, border-color .18s ease, color .18s ease, box-shadow .18s ease;
}

.nx-segment .seg-radio:focus + .seg-btn,
.nx-segment .seg-btn:focus{
  outline:none;
  box-shadow: 0 0 0 .22rem color-mix(in srgb, var(--brand) 26%, transparent);
  border-color: color-mix(in srgb, var(--brand) 55%, var(--line));
}

/* 선택 상태 */
.nx-segment .seg-radio:checked + .seg-btn{
  background: var(--brand);
  border-color: color-mix(in srgb, var(--brand) 70%, #000);
  color: var(--brand-ink);
  box-shadow: 0 8px 18px color-mix(in srgb, var(--brand) 35%, transparent);
}

/* 다크에서 경계선 살짝 완화 */
html[data-theme="dark"] .nx-segment .seg-btn,
body.dark .nx-segment .seg-btn{
  border-color: var(--line);
  background: var(--surface);
}
